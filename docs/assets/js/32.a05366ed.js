(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{314:function(t,n,a){"use strict";a.r(n);var r=a(14),s=Object(r.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"dpi-c-va-c"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dpi-c-va-c"}},[t._v("#")]),t._v(" DPI-C và C++")]),t._v(" "),n("p",[t._v("Ví vụ về sử dụng DPI-C để gọi một hàm C++ bên ngoài từ một module System Verilog.")]),t._v(" "),n("p",[t._v("test.sv")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('module main;\n    // khai báo một hàm c_main trong DPI-C \n    import "DPI-C" function void c_main(int argc, input string argv[]);\n    initial begin\n      string argv_str[3] = {"1","2","3"};\n      c_main(3, argv_str);\n    end\nendmodule\n\n')])])]),n("p",[t._v("dpi_exmpale.cpp")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('#include <svdpi.h>\n#include <iostream>\n\n// định nghĩa của hàm c_main\nextern "C" void c_main(int argc, svOpenArrayHandle argv) {\n    const char** argv_ptr = static_cast<const char**>(svGetArrayPtr(argv));\n    \n    std::cout << "Number of arguments: " << argc << std::endl;\n\n    for (int i = 0; i < argc; ++i) {\n        std::cout << "Argument " << i << ": " << argv_ptr[i] << std::endl;\n    }\n}\n')])])]),n("p",[t._v("Hai tham số: argc và argv")]),t._v(" "),n("ul",[n("li",[t._v("argc (argument count): Đây là số lượng tham số được truyền vào hàm.")]),t._v(" "),n("li",[t._v("argv (argument vector): Đây là một mảng chứa các con trỏ chuỗi (C-strings) đến các tham số cụ thể truyền vào chương trình từ dòng lệnh. Các tham số này được lưu trữ dưới dạng chuỗi.")])]),t._v(" "),n("p",[t._v("Kết quả:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Number of arguments: 3\nArgument 0: 1\nArgument 1: 2\nArgument 2: 3\n")])])])])}),[],!1,null,null,null);n.default=s.exports}}]);